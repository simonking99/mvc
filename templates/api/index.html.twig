{% extends 'base.html.twig' %}

{% block title %}API Overview{% endblock %}

{% block body %}
    <h1>JSON API Overview</h1>

    <div class="api-section">
        <p>This is a summary of all available JSON API endpoints in the project:</p>

        <div class="api-endpoint">
            <div class="api-description">
                <strong>GET /api/deck</strong><br>
                Returns a sorted deck of cards in JSON format.
            </div>
            <div class="api-action">
                <a href="{{ path('api_deck') }}" class="api-button">Show deck</a>
            </div>
        </div>

        <div class="api-endpoint">
            <div class="api-description">
                <strong>POST /api/deck/shuffle</strong><br>
                Shuffles the deck, stores it in the session and returns as JSON.
            </div>
            <div class="api-action">
                <form method="post" action="{{ path('api_deck_shuffle') }}">
                    <button type="submit" class="api-button">Shuffle deck</button>
                </form>
            </div>
        </div>
        <div class="api-endpoint">
            <div class="api-description">
                <strong>POST /api/deck/draw</strong><br>
                Draws one card from the deck stored in session.
            </div>
            <div class="api-action">
                <form method="post" action="{{ path('api_deck_draw') }}">
                    <button type="submit" class="api-button">Draw 1 card</button>
                </form>
            </div>
        </div>
        <div class="api-endpoint">
            <div class="api-description">
                <strong>POST /api/deck/draw/:number</strong><br>
                Draws the specified number of cards from the session-based deck.
            </div>
            <div class="api-action">
                <form method="post" action="" onsubmit="this.action='/api/deck/draw/' + this.elements['number'].value">
                    <input type="number" name="number" min="1" max="52" required>
                    <button type="submit" class="api-button">Draw multiple cards</button>
                </form>
            </div>
        </div>
        <div class="api-endpoint">
            <div class="api-description">
                <strong>GET /api/lucky/number</strong><br>
                Returns a random lucky number in JSON format.
            </div>
            <div class="api-action">
                <a href="{{ path('api_lucky_number') }}" class="api-button">Get lucky number</a>
            </div>
        </div>

        <div class="api-endpoint">
            <div class="api-description">
                <strong>GET /api/quote</strong><br>
                Returns a random quote as JSON.
            </div>
            <div class="api-action">
                <a href="{{ path('api_quote') }}" class="api-button">Get quote</a>
            </div>
        </div>
    </div>
{% endblock %}
